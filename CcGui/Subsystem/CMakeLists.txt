
message("-- Search for supported gui framework")
if(CCGUI_SUBSYSTEM)
  message("--- Select subsystem: ${CCGUI_SUBSYSTEM}")
  add_subdirectory(${CCGUI_SUBSYSTEM})
  if(${CCGUI_SUBSYSTEM} STREQUAL "Generic")
    set(CCGUI_GENERIC_ALREADY_ADDED TRUE)
  endif(${CCGUI_SUBSYSTEM} STREQUAL "Generic")
else()
  if(WINDOWS)
    set(CCGUI_SUBSYSTEM "Windows")
    message("--- Windows found")
    add_subdirectory(Windows)
  else()
    find_package(X11)
    if(X11_FOUND)
      set(CCGUI_SUBSYSTEM "X11")
      message("--- X11 found")
      add_subdirectory(X11)
    else()
      set(CCGUI_SUBSYSTEM "Generic")
      message("--- No gui framework found")
    endif()
  endif()
endif(CCGUI_SUBSYSTEM)

# Always add generic it will fill all not existing items / buttons / widgets
if(NOT CCGUI_GENERIC_ALREADY_ADDED)
  add_subdirectory(Generic)
endif(NOT CCGUI_GENERIC_ALREADY_ADDED)

push_up_gui_vars()
